# Анализ влияния погодных условий на задержки авиарейсов

Проект анализирует взаимосвязь между погодными событиями в США и задержками авиарейсов на основе данных за 2016-2023 года.

## Структура проекта

- **notebooks/** - Jupyter ноутбуки с пошаговым анализом
  - `A_us_weather_events.ipynb` - Загрузка и исследование погодных событий
  - `B_flight_delay.ipynb` - Загрузка и анализ данных о задержках рейсов
  - `C_hypotheses_flight_status_x_us_weather.ipynb` - Проверка гипотез и корреляции
- **src/** - Python модули
  - `data_processing.py` - Функции обработки данных
- **data/** - Обработанные датасеты
- **reports/** - Сохранённые графики и отчёты

## Требования

```bash
pip install -r requirements.txt
```

Необходимые библиотеки:
- `pandas` - работа с данными
- `numpy` - числовые операции
- `matplotlib`, `seaborn` - визуализация
- `scipy`, `statsmodels` - статистический анализ
- `kagglehub` - загрузка датасетов

## Как воспроизвести анализ

### Шаг 1: Подготовка окружения

```bash
cd /home/qosquo/dev/python/data_analysis
pip install -r requirements.txt
```

### Шаг 2: Запуск Jupyter Lab/Notebook

```bash
jupyter lab notebooks/
```

### Шаг 3: Запуск ноутбуков по порядку

#### A. Анализ погодных событий (`A_us_weather_events.ipynb`)
- Загрузка датасета WeatherEvents с Kaggle
- Исследование структуры данных (схема, размер, распределение)
- Анализ типов погодных событий и их тяжести
- Временной анализ (тренды, сезонность)
- Анализ автокорреляции (ACF)

**Выходные данные:**
- Таблица статистики по погодным событиям
- Графики распределения и временных рядов
- ACF графики

#### B. Анализ задержек рейсов (`B_flight_delay.ipynb`)
- Загрузка датасета полётов с Kaggle
- Исследование данных о задержках (схема, пропущенные значения)
- Анализ отмен рейсов и временных задержек
- Статистика по аэропортам и авиакомпаниям
- Временной анализ задержек (тренды)

**Выходные данные:**
- Таблица характеристик задержек
- Визуализация статистики
- Временные серии задержек

#### C. Проверка гипотез (`C_hypotheses_flight_status_x_us_weather.ipynb`)
Перед запуском запустить скрипт `src/data_processing.py` для подготовки объединённого датасета.
- Объединение данных о погоде и рейсах по дате и аэропорту
- Агрегация погодных событий по дате и аэропорту
- Анализ корреляции между параметрами погоды и статусом рейсов
- Проверка основных гипотез:
  - **Гипотеза 1:** Влияние тяжести погодных условий на отмену рейсов
  - **Гипотеза 2:** Влияние типов погодных событий (снег, туман) на задержки
  - **Гипотеза 3:** Влияние длительности погодных событий
- Построение регрессионных моделей
- Визуализация корреляций и взаимосвязей

**Выходные данные:**
- Корреляционные матрицы
- Графики взаимосвязей (scatter plots, box plots)
- Результаты логистической регрессии

## Основные выводы

Проект проверяет, как различные параметры погодных условий:
- Тяжесть (Minor, Moderate, Severe, Extreme)
- Тип события (снег, туман, гроза и т.д.)
- Длительность события

влияют на:
- Количество отменённых рейсов
- Временные задержки вылета
- Статус рейса

## Данные

Используются два общедоступных датасета с Kaggle:
1. **US Weather Events** (2016-2022) - погодные события с координатами аэропортов
2. **Flight Delay and Cancellation Dataset** (2019-2023) - статистика по рейсам

## Примечания

- Анализ использует локальные временные зоны для корректного сопоставления данных
- Выполняется отображение кодов ICAO в IATA коды аэропортов
- Использутся методы статистического анализа: корреляция Пирсона, логистическая регрессия
